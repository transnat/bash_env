---
- name: 'Create ~/.config/ subdirectories.'
  ansible.builtin.file:
      path: '{{ item.path }}'
      owner: '{{ item.owner }}'
      group: '{{ item.group }}'
      mode: '{{ item.mode }}'
      state: 'directory'
  loop: '{{ environment_dotfiles.subdirectories }}'
  tags:
      - 'environment'
      - 'dotfiles'

- name: 'Symlink configuration files.'
  ansible.builtin.file:
      src: '{{ item.src }}'
      dest: '{{ item.dest }}'
      mode: '{{ item.mode }}'
      owner: '{{ item.owner }}'
      group: '{{ item.group }}'
      state: 'link'
      force: true
  loop: '{{ environment_dotfiles.symlinks }}'
  tags:
      - 'environment'
      - 'dotfiles'
...
